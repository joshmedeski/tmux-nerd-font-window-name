#!/usr/bin/env bash

CURRENT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
NAME="$1"
CONFIG_FILE="$CURRENT_DIR/defaults.yml"
SHOW_NAME="$(yq '.config.show-name' "$CONFIG_FILE")"
FALLBACK_ICON="$(yq '.config.fallback-icon' "$CONFIG_FILE")"
ICON="$(yq ".icons.$NAME" "$CONFIG_FILE")"

if [ "$ICON" == "null" ]; then
	echo "$FALLBACK_ICON"
fi

if [ "$SHOW_NAME" = true ]; then
	ICON="$ICON $NAME"
fi

echo "$ICON"
